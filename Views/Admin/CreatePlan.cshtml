@model ODHDEVELOPERS.Models.Plan
@using ODHDEVELOPERS.Models;
@{
    UsersContext db = new UsersContext();
    var planDetails = db.Plans.ToList();
    var mr = db.Members.Single(m => m.Id == 1);
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewBag.Title = "CreatePlan";
}

<link href="~/assets/css1/main css/Forms.css" rel="stylesheet" />
<link href="~/assets/css1/main css/index.css" rel="stylesheet" />
<div class="container mt-5">
    <!-- Title -->
    <h2 class="text-center create-title">Create @mr.planname Category</h2>

    @using (Html.BeginForm())
    {
        <!-- Form -->
        <div id="branchForm" class="form-container">
            <!-- Project Category -->
            <div class="form-group">
                <label for="projectCategory" class="form-label">Enter @mr.planname Category</label>
                <input type="text" class="form-control" name="Planname" id="Planname" placeholder="Enter Project Category" required>
            </div>

            <!-- Project Shortcut -->
            <div class="form-group">
                <label for="projectShortcut" class="form-label">Enter @mr.planname Shortcut</label>
                <input type="text" class="form-control" name="shortcutname" id="shortcutname" placeholder="Enter Project Shortcut" required>
            </div>

            <!-- Project Type -->
            <div class="form-group">
                <label for="projectType" class="form-label">Select @mr.planname Type</label>
                <select class="form-control" name="type" id="projectType" required>
                    <option value="">Select</option>
                    <option value="Residential">Residential</option>
                    <option value="Commercial">Commercial</option>
                </select>
            </div>

            <!-- Create Button -->
            <div class="text-center">
                <button type="submit" class="btn create-btn">Create</button>
            </div>
        </div>
        <p style="color: maroon;"><b>@ViewBag.msg</b></p>

    }
</div>
@if (planDetails != null)
{
    <div class="index_body">
        <div class="table-container">
            <div class="header-row">Project Category</div>
            <table>
                <thead>
                    <tr>
                        <th>Plane Name</th>
                        <th>Shortcut Name</th>
                        <th>Status</th>
                        <th>Type</th>
                    </tr>
                </thead>
                @foreach (var item in planDetails)
                {
                    <tbody>
                        <tr>
                            <td>@item.Planname</td>
                            <td>@item.shortcutname</td>
                            <td>@item.status</td>
                            <td>@item.type</td>
                        </tr>
                    </tbody>
                }
            </table>
        </div>
    </div>
} 